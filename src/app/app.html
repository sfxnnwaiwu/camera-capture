<div class="face-verification-container">
    <!-- Header -->
    <header class="header">
        <h1 class="title">Face Verification</h1>
        <p class="subtitle">Please position your face in the frame and follow the instructions</p>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Camera Section -->
        <section class="camera-section">
            <div class="camera-container">
                <div class="camera-frame">
                    <video #video autoplay playsinline muted class="camera-video"></video>
                    <canvas #overlay class="camera-overlay"></canvas>
                </div>
            </div>

            <!-- Status Display -->
            <div class="status-display">
                <div class="status-text">{{ status() }}</div>
                @if (canStartVerification() && !imageCaptured()) {
                <button class="start-button" (click)="captureImage()">Capture Image</button>
                }
            </div>
        </section>

        <!-- Progress Section -->
        <section class="progress-section">
            <h2 class="progress-title">Verification Steps</h2>
            <div class="progress-grid">
                <div class="progress-item" [class.completed]="faceInRange()">
                    <div class="progress-icon">üìç</div>
                    <div class="progress-text">Position Face</div>
                    <div class="progress-status">{{ faceInRange() ? 'Complete' : 'Pending' }}</div>
                </div>

                <div class="progress-item" [class.completed]="imageCaptured()">
                    <div class="progress-icon">üì∏</div>
                    <div class="progress-text">Image Capture</div>
                    <div class="progress-status">{{ imageCaptured() ? 'Complete' : 'Pending' }}</div>
                </div>

                <div class="progress-item" [class.completed]="blinkCompleted()">
                    <div class="progress-icon">üëÅÔ∏è</div>
                    <div class="progress-text">Blink Detection</div>
                    <div class="progress-status">{{ blinkCompleted() ? 'Complete' : blinkDetected() ? 'Detected' : 'Pending' }}</div>
                </div>

                <div class="progress-item" [class.completed]="upTiltCompleted()">
                    <div class="progress-icon">‚¨ÜÔ∏è</div>
                    <div class="progress-text">Tilt Up</div>
                    <div class="progress-status">{{ upTiltCompleted() ? 'Complete' : headTiltedUp() ? 'Detected' : 'Pending' }}</div>
                </div>

                <div class="progress-item" [class.completed]="downTiltCompleted()">
                    <div class="progress-icon">‚¨áÔ∏è</div>
                    <div class="progress-text">Tilt Down</div>
                    <div class="progress-status">{{ downTiltCompleted() ? 'Complete' : headTiltedDown() ? 'Detected' : 'Pending' }}</div>
                </div>

                <div class="progress-item" [class.completed]="verificationComplete()">
                    <div class="progress-icon">‚úÖ</div>
                    <div class="progress-text">Verification</div>
                    <div class="progress-status">{{ verificationComplete() ? 'Complete' : 'In Progress' }}</div>
                </div>
            </div>
        </section>
    </main>
</div>
